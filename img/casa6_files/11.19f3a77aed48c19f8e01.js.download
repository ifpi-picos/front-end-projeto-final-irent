(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"0XvD":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getLoanTermMax=t.getDownPaymentMin=t.getDownPaymentMax=t.getInstallmentComputed=t.getInstallmentValue=t.getManagementValue=t.getDfiValue=t.getMipValue=t.getMipPercentPerAge=t.getAnnualInterestRate=t.getMonthlyInsterestRate=t.getInterestValue=t.getAmortizationValue=t.getNumberOfInstallments=t.getMonthlyHouseholdIncomes=t.getSuggestionDownPayment=t.getLoanAmount=t.getDiffRecurringDecimal=void 0;var n=[{valid:function(e){return e<=31},rate:.017},{valid:function(e){return e>=32&&e<=36},rate:.021},{valid:function(e){return e>=37&&e<=41},rate:.026},{valid:function(e){return e>=42&&e<=46},rate:.04},{valid:function(e){return e>=47&&e<=51},rate:.055},{valid:function(e){return e>=52&&e<=56},rate:.17},{valid:function(e){return e>=57&&e<=61},rate:.213},{valid:function(e){return e>=62&&e<=66},rate:.384},{valid:function(e){return e>=67&&e<=71},rate:.484},{valid:function(e){return e>=72},rate:.71}],r=function(e){return Number(e.toFixed(2))},o=function(e){var t=e.loanAmount,a=e.amortizationValue*e.numberOfInstallments;return t===a?0:t-a};t.getDiffRecurringDecimal=o;var s=function(e,t){return e-t};t.getLoanAmount=s;t.getSuggestionDownPayment=function(e){return.25*e};t.getMonthlyHouseholdIncomes=function(e){return e/.3};var i=function(e){return 12*e};t.getNumberOfInstallments=i;var l=function(e,t){return r(e/t)};t.getAmortizationValue=l;var u=function(e){return r((e.loanAmount-e.amortizationValue*(e.installmentNumber-1))*e.monthlyInsterestRate)};t.getInterestValue=u;var m=function(){return Math.pow(1.0799,1/12)-1};t.getMonthlyInsterestRate=m;t.getAnnualInterestRate=function(){return 7.99};var c=function(e){return n.reduce((function(t,a){return a.valid(e)?a.rate/100:t}),0)};t.getMipPercentPerAge=c;var d=function(e){return r((e.loanAmount-e.amortizationValue*e.installmentNumber)*e.mipPercentPerAge)};t.getMipValue=d;var f=function(e){return r(5e-5*e)};t.getDfiValue=f;var g=function(){return 25};t.getManagementValue=g;var h=function(e){var t=e.amortizationValue,a=e.isLastInstallment,n=e.recurringDecimal;return r((a&&n?n+t:t)+e.interestValue+e.managementValue+(a?0:e.mipValue)+(a?0:e.dfiValue))};t.getInstallmentValue=h;t.getInstallmentComputed=function(e){var t=e.salePrice,a=e.age,n=e.loanTerm,r=e.installmentNumber,g=s(t,e.downPayment),p=i(n),v=l(g,p),_=c(a),P=m(),b=f(t),y={loanAmount:g,amortizationValue:v,installmentNumber:r},w=d(Object.assign({},y,{mipPercentPerAge:_})),M=u(Object.assign({},y,{monthlyInsterestRate:P})),I=o({loanAmount:g,numberOfInstallments:p,amortizationValue:v});return h({amortizationValue:v,interestValue:M,mipValue:w,dfiValue:b,managementValue:25,isLastInstallment:p===r,recurringDecimal:I})};t.getDownPaymentMax=function(e){return e-2e4};t.getDownPaymentMin=function(e){return.1*e};t.getLoanTermMax=function(e){return 80-e};t.default={}},"0n+Y":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("1eTU")),o=n(a("c2II")),s=n(a("Fba8")),i=n(a("s5T1")),l=n(a("jAx7")),u=n(a("3yO6")),m=n(a("D8Yr")),c=n(a("8IX3")),d=a("0XvD"),f=n(a("pd4U")),g={name:"oz-mortgage-loan",components:{zBox:r.default,zButton:o.default,zContainer:s.default,zDisplay:i.default,zImage:l.default,zInput:u.default,zText:m.default},props:{id:{type:String,required:!0},pricing:{type:Object,required:!0}},data:function(){return{form:{salePrice:0,downPayment:0,loanTerm:35,age:30},errors:{age:{maxValue:!1,minValue:!1},downPayment:{minValue:!1,maxValue:!1,resultMinValue:0,resultMaxValue:0},loanTerm:{range:!1,minValue:!1,maxValue:!1,resultMaxValue:0},salePrice:!1},resultLoanAmmount:0,resultFirstMonthPayment:0,resultLastMonthPayment:0,resultHouseholdIncomes:0,showResults:!1,resultLoanAmmountUpdating:!1,resultFirstMonthPaymentUpdating:!1,resultLastMonthPaymentUpdating:!1,resultHouseholdIncomesUpdating:!1}},watch:{id:function(e,t){e!==t&&(this.showResults=!1,this.form.salePrice=this.getTotalSalePrice(),this.form.downPayment=this.getTotalDownPayment())},resultLoanAmmount:function(){this.resultsUpdated("resultLoanAmmountUpdating")},resultFirstMonthPayment:function(){this.resultsUpdated("resultFirstMonthPaymentUpdating")},resultLastMonthPayment:function(){this.resultsUpdated("resultLastMonthPaymentUpdating")},resultHouseholdIncomes:function(){this.resultsUpdated("resultHouseholdIncomesUpdating")},"form.loanTerm":function(){this.handleInputChange()},"form.age":function(){this.handleInputChange()},"form.salePrice":function(){this.handleInputChange()},"form.downPayment":function(){this.handleInputChange()}},mounted:function(){this.form.salePrice=this.getTotalSalePrice(),this.form.downPayment=this.getTotalDownPayment()},computed:{formatedTax:function(){var e=(0,d.getAnnualInterestRate)();return(0,c.default)({prefix:"",value:e,precision:2})}},methods:f.default.bind(void 0)(),filters:{priceFilter:function(e){return(0,c.default)({prefix:"R$ ",value:e,precision:2})}}};t.default=g},"5L4Z":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("Fba8")),o=n(a("v00s")),s=n(a("wT4y"));t.default={name:"oz-simulator",props:{listing:{type:Object,required:!0}},computed:{showSimulator:function(){return this.listing.pricingInfo.isSale}},methods:{openModal:function(e){this.$refs.modal.open(e)}},components:{zContainer:r.default,ozMortgageLoan:o.default,ozMortgageModal:s.default}}},"6pBk":function(e,t,a){},"711G":function(e,t,a){"use strict";a("6pBk")},Aubr:function(e,t,a){"use strict";var n=function(){var e=this,t=e._self._c||e.$createElement;return t("form",[t("z-input",{ref:"email",attrs:{label:"E-mail",type:"email","invalid-message":"Por favor, informe um e-mail v\xe1lido",required:"","floating-label":""},model:{value:e.borrower.email,callback:function(t){e.$set(e.borrower,"email",t)},expression:"borrower.email"}}),t("z-input",{ref:"phone",attrs:{label:"Telefone",type:"phone","invalid-message":"Por favor, verifique se o n\xfamero de telefone est\xe1 correto","floating-label":""},model:{value:e.borrower.phone,callback:function(t){e.$set(e.borrower,"phone",t)},expression:"borrower.phone"}}),t("z-button",{staticClass:"mortgage-modal__form-cta",nativeOn:{click:function(t){return e.submitForm(t)}}},[e._v("\n    Simular no Santander\n  ")])],1)},r=[];a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}))},CXiE:function(e,t,a){e.exports=a.p+"santander.svg?7b7b1fbcd6b2aa0b319aebdf057e5dd0"},DkWs:function(e,t,a){"use strict";var n=function(){var e=this._self._c||this.$createElement;return this.showSimulator?e("z-container",{staticClass:"main__simulator"},[e("oz-mortgage-loan",{attrs:{id:this.listing.id,pricing:this.listing.pricingInfo},on:{"simulator:modal:open":this.openModal}}),e("oz-mortgage-modal",{ref:"modal"})],1):this._e()},r=[];a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}))},DksQ:function(e,t,a){"use strict";a.r(t);var n=a("Pr9R"),r=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t.default=r.a},F6wD:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("N3wY")),o=a("lOrp"),s=n(a("kR8A")),i=n(a("c2II")),l=n(a("3yO6")),u={name:"oz-mortgage-loan-form",data:function(){return{borrower:{name:"",phone:"",email:""}}},mounted:function(){this.setBorrower()},computed:Object.assign({},(0,o.mapState)("leads",{leadUser:function(e){return e.lead}}),{},(0,o.mapGetters)({userData:"auth/user"})),methods:{setBorrower:function(){return this.leadUser&&this.leadUser.email?(this.borrower=Object.assign({},this.leadUser,{phone:this.leadUser.phoneNumber}),!0):!(!this.userData||!this.userData.email)&&(this.borrower=this.userData,!0)},submitForm:function(){return!!(0,r.default)(this.$refs).reduce((function(e,t){return e&&t.isInputValid()}),!0)&&(this.$emit("form:submit",this.borrower),this.redirectToSantander(),!0)},getDevice:function(){return s.default.isMobile()?"mobile":"desktop"},redirectToSantander:function(){var e=this.getDevice();window.open("https://www.negociosimobiliarios.santander.com.br/negociosimobiliarios/?headerandfooter/#/dados-pessoais?utm_source=zapimoveis&utm_medium=calculadora&utm_campaign="+e,"_blank")}},components:{zButton:i.default,zInput:l.default}};t.default=u},HlHB:function(e,t,a){"use strict";a.r(t);var n=a("5L4Z"),r=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t.default=r.a},IZC6:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("hOKS"));t.default=r.default},KCHR:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("Th3T"));t.default=r.default},M9Mw:function(e,t,a){"use strict";var n=function(){var e=this._self._c||this.$createElement;return e("z-modal",{ref:"modal",staticClass:"mortgage-modal__modal",attrs:{size:"large"}},[e("template",{slot:"header"},[e("z-image",{staticClass:"mortgage-modal__logo",attrs:{alt:"Santander",src:a("CXiE"),width:"182",height:"32"}})],1),e("z-box",{staticClass:"mortgage-modal__content",attrs:{display:"flex","justify-content":"between"}},[e("div",{staticClass:"mortgage-modal__form"},[e("z-text",{attrs:{color:"darker"}},[this._v("\n        Solicite o financiamento do seu im\xf3vel sem sair de casa!\n      ")]),e("oz-mortgage-loan-form",{on:{"form:submit":this.formSubmitSuccess}})],1)]),e("z-text",{attrs:{size:"xsmall",color:"regular","no-margin":""}},[this._v("\n    Aten\xe7\xe3o: Esta \xe9 apenas uma simula\xe7\xe3o, a contrata\xe7\xe3o est\xe1 sujeita \xe0 an\xe1lise e aprova\xe7\xe3o de cr\xe9dito.\n    Em caso de contrata\xe7\xe3o, a taxa de juros, o valor das parcelas e as outras condi\xe7\xf5es do financiamento\n    variam de acordo com o perfil do cliente.\n  ")])],2)},r=[];a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}))},MREg:function(e,t,a){"use strict";a.r(t);var n=a("M9Mw"),r=a("DksQ");for(var o in r)"default"!==o&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("711G");var s=a("psIG"),i=Object(s.a)(r.default,n.a,n.b,!1,null,null,null);t.default=i.exports},Pr9R:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("1eTU")),o=n(a("c2II")),s=n(a("jAx7")),i=n(a("RO1x")),l=n(a("D8Yr")),u=n(a("IZC6")),m=a("iXUk");t.default={name:"oz-mortgage-loan-modal",data:function(){return{userInfos:{}}},methods:{open:function(e){this.userInfos=e,this.$refs.modal.open()},close:function(){this.$refs.modal.close()},formSubmitSuccess:function(e){this.tracker(Object.assign({},this.userInfos,{borrowerName:e.name,borrowerEmail:e.email,borrowerPhone:e.phone})),this.close()},tracker:function(e){(0,m.mortgageClicked)(e)}},components:{zBox:r.default,zButton:o.default,zImage:s.default,zModal:i.default,zText:l.default,ozMortgageLoanForm:u.default}}},Th3T:function(e,t,a){"use strict";a.r(t);var n=a("DkWs"),r=a("HlHB");for(var o in r)"default"!==o&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var s=a("psIG"),i=Object(s.a)(r.default,n.a,n.b,!1,null,null,null);t.default=i.exports},XClD:function(e,t,a){"use strict";a.r(t);var n=a("F6wD"),r=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t.default=r.a},"c/Eq":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={isAgeMax:function(e){return e&&e<=79},isAgeMin:function(e){return e&&e>=18},isSalePrice:function(e){return e&&e>=22e3},isDownPaymentMax:function(e){var t=e.max;return t&&e.downPayment<=t},isDownPaymentMin:function(e){var t=e.downPayment,a=e.min;return t&&a&&t>=a},isLoanTerm:function(e){return e&&e<=35},isLoanTermMax:function(e){var t=e.loanTerm;return t&&t<=e.max}}},g8B3:function(e,t,a){},hCZX:function(e,t,a){"use strict";a.r(t);var n=a("0n+Y"),r=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t.default=r.a},hOKS:function(e,t,a){"use strict";a.r(t);var n=a("Aubr"),r=a("XClD");for(var o in r)"default"!==o&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var s=a("psIG"),i=Object(s.a)(r.default,n.a,n.b,!1,null,null,null);t.default=i.exports},"hq+7":function(e,t,a){"use strict";a("g8B3")},iXUk:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.mortgageTrackerSchema=t.schema=t.mortgageClicked=void 0;var r=n(a("6DIm")),o=function(e){var t=function(e){return{mortgage:e,event:"mortgageClicked"}}(e);r.default.$clickstream.trackEvent(t)};t.mortgageClicked=o;var s={listingId:"0",action:"",screen:"MORTGAGE FORM",salePrice:0,downPayment:0,loanTerm:0,lenders:[],annualCetRates:[],annualInterestRates:[0],firstMonthPayments:[0],lastMonthPayments:[0],grossMonthlyHouseholdIncomes:[0],borrowerName:"",borrowerId:"",borrowerEmail:"",borrowerPhone:""};t.schema=s;var i=function(e){return Object.assign({},s,{action:e.action,listingId:e.listingId,salePrice:e.salePrice,downPayment:e.downPayment,loanTerm:e.loanTerm,annualInterestRates:[e.annualInterestRates],firstMonthPayments:[e.firstMonthPayments],lastMonthPayments:[e.lastMonthPayments],grossMonthlyHouseholdIncomes:[e.grossMonthlyHouseholdIncomes]})};t.mortgageTrackerSchema=i,t.default={mortgageClicked:o,mortgageTrackerSchema:i}},icnV:function(e,t,a){"use strict";a.r(t);var n=a("jasB"),r=a("hCZX");for(var o in r)"default"!==o&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("hq+7");var s=a("psIG"),i=Object(s.a)(r.default,n.a,n.b,!1,null,null,null);t.default=i.exports},jasB:function(e,t,a){"use strict";var n=function(){var e=this,t=e._self._c||e.$createElement;return t("div",{staticClass:"mortgage-loan"},[t("z-box",{staticClass:"mortgage-loan__header",attrs:{display:"flex","align-items":"center","justify-content":"between"}},[t("z-display",{staticClass:"mortgage-loan__title",attrs:{tag:"h2",size:"small",weight:"bold"}},[e._v("\n      Simule um financiamento\n    ")]),t("z-image",{staticClass:"mortgage-loan__logo",attrs:{alt:"Santander",src:a("CXiE"),width:"182",height:"32"}})],1),t("z-text",{staticClass:"mortgage-loan__description",attrs:{color:"dark","no-margin":""}},[e._v("\n    Encontre o cr\xe9dito ideal para a compra do seu im\xf3vel. Simule valores, compare taxas e saiba quais ser\xe3o seus gastos antecipadamente.\n  ")]),t("z-box",{staticClass:"mortgage-loan__entry-fields"},[t("z-box",{staticClass:"mortgage-loan__input-wrapper mortgage-loan__age"},[t("z-input",{attrs:{label:"Sua idade",maxlength:2,"info-message":"No m\xednimo 18 anos"},model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}}),e.errors.age.minValue?t("z-text",{staticClass:"input__message",attrs:{size:"xsmall",tag:"small",color:"error"}},[e._v("\n        A idade m\xednima para financiamento \xe9 de 18 anos\n      ")]):e._e(),e.errors.age.maxValue?t("z-text",{staticClass:"input__message",attrs:{size:"xsmall",tag:"small",color:"error"}},[e._v("\n        A soma entre a sua idade e o prazo de financiamento n\xe3o pode exceder 80 anos e seis meses\n      ")]):e._e()],1),t("z-box",{staticClass:"mortgage-loan__input-wrapper mortgage-loan__sale-price"},[t("z-input",{attrs:{label:"Valor do im\xf3vel",type:"currency"},model:{value:e.form.salePrice,callback:function(t){e.$set(e.form,"salePrice",t)},expression:"form.salePrice"}}),e.errors.salePrice?t("z-text",{staticClass:"input__message",attrs:{size:"xsmall",tag:"small",color:"error"}},[e._v("\n        Este valor n\xe3o se enquadra em condi\xe7\xf5es de financiamento\n      ")]):e._e()],1),t("z-box",{staticClass:"mortgage-loan__input-wrapper mortgage-loan__down-payment"},[t("z-input",{attrs:{label:"Entrada",type:"currency","info-message":"M\xednimo de 25% do valor do im\xf3vel"},model:{value:e.form.downPayment,callback:function(t){e.$set(e.form,"downPayment",t)},expression:"form.downPayment"}}),e.errors.downPayment.minValue?t("z-text",{staticClass:"input__message",attrs:{size:"xsmall",tag:"small",color:"error"}},[e._v("\n        Para este im\xf3vel, o valor m\xednimo de entrada deve ser de "+e._s(e._f("priceFilter")(e.errors.downPayment.resultMinValue))+"\n      ")]):e._e(),e.errors.downPayment.maxValue?t("z-text",{staticClass:"input__message",attrs:{size:"xsmall",tag:"small",color:"error"}},[e._v("\n        Para este im\xf3vel, o valor m\xe1ximo de entrada deve ser de "+e._s(e._f("priceFilter")(e.errors.downPayment.resultMaxValue))+"\n      ")]):e._e()],1),t("z-box",{staticClass:"mortgage-loan__input-wrapper mortgage-loan__loan-term"},[t("z-input",{attrs:{label:"Prazo (em anos)",type:"number",maxlength:2,"info-message":"M\xe1ximo de 35 anos"},model:{value:e.form.loanTerm,callback:function(t){e.$set(e.form,"loanTerm",t)},expression:"form.loanTerm"}}),e.errors.loanTerm.range?t("z-text",{staticClass:"input__message",attrs:{size:"xsmall",tag:"small",color:"error"}},[e._v("\n        O prazo deve ser entre 1 e 35 anos\n      ")]):e._e(),e.errors.loanTerm.maxValue?t("z-text",{staticClass:"input__message",attrs:{size:"xsmall",tag:"small",color:"error"}},[e._v("\n        Com "+e._s(e.form.age)+" anos de idade, o prazo m\xe1ximo de financiamento \xe9 de "+e._s(e.errors.loanTerm.resultMaxValue)+" anos\n      ")]):e._e()],1),t("z-box",{staticClass:"mortgage-loan__input-wrapper mortgage-loan__tax"},[t("z-input",{attrs:{label:"Taxa (% ao ano)",placeholder:e.formatedTax,disabled:""}})],1),t("z-box",{staticClass:"mortgage-loan__btn-calculation"},[t("z-button",{staticClass:"mortgage-loan__cta",attrs:{disabled:e.showResults},nativeOn:{click:function(t){return e.handleCalculation(t)}}},[e._v("\n        Calcular\n      ")])],1)],1),e.showResults?t("z-box",{staticClass:"mortgage-loan__division"}):e._e(),e.showResults?t("z-box",{staticClass:"mortgage-loan__result-fields"},[t("z-input",{staticClass:"result__container",class:{"mortgage-loan__updating":e.resultLoanAmmountUpdating},attrs:{label:"Valor financiado",type:"placeholder",placeholder:e._f("priceFilter")(e.resultLoanAmmount)}}),t("z-input",{staticClass:"result__container",class:{"mortgage-loan__updating":e.resultFirstMonthPaymentUpdating},attrs:{label:"Primeira parcela",type:"placeholder",placeholder:e._f("priceFilter")(e.resultFirstMonthPayment)}}),t("z-input",{staticClass:"result__container",class:{"mortgage-loan__updating":e.resultLastMonthPaymentUpdating},attrs:{label:"\xdaltima parcela",type:"placeholder",placeholder:e._f("priceFilter")(e.resultLastMonthPayment)}}),t("z-input",{staticClass:"result__container result__container--household",class:{"mortgage-loan__updating":e.resultHouseholdIncomesUpdating},attrs:{label:"Renda familiar",type:"placeholder","info-message":"Renda familiar \xe9 o somat\xf3rio da renda individual dos moradores do mesmo domic\xedlio.",placeholder:e._f("priceFilter")(e.resultHouseholdIncomes)}}),t("z-button",{staticClass:"mortgage-loan__quotation-cta",nativeOn:{click:function(t){return e.handleQuotation(t)}}},[e._v("\n      Simular no Santander\n    ")])],1):e._e()],1)},r=[];a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}))},pd4U:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("5Zwl")),o=a("8IX3"),s=a("iXUk"),i=a("0XvD"),l=n(a("c/Eq"));t.default=function(){return{resultsUpdated:function(e){var t=this;this[e]=!0,setTimeout((function(){t[e]=!1}),300)},getTotalDownPayment:function(){return(0,i.getSuggestionDownPayment)(this.getTotalSalePrice())},getTotalSalePrice:function(){var e=this.pricing;return(0,o.unformatDecimal)((e=void 0===e?{}:e).salePrice,0)},handleCalculation:function(){return!this.isInvalidForm()&&(this.simulationRun()&&(this.showResults=!0,this.propagation({action:"CALCULATE",emit:{name:"simulator:calculate"}})),!0)},handleQuotation:function(){this.openQuotationModal()},handleInputChange:function(){var e=this;(0,r.default)((function(){return!e.isInvalidForm()&&e.simulationRun()}),500)()},getInstallment:function(e){return(0,i.getInstallmentComputed)(Object.assign({},this.form,{installmentNumber:e}))},getFirstInstallment:function(){return this.getInstallment(1)},getHouseholdIncomes:function(){return(0,i.getMonthlyHouseholdIncomes)(this.getInstallment(1))},getLastInstallment:function(){var e=(0,i.getNumberOfInstallments)(this.form.loanTerm);return this.getInstallment(e)},resetErrors:function(){this.errors.age.minValue=!1,this.errors.age.maxValue=!1,this.errors.salePrice=!1,this.errors.downPayment.minValue=!1,this.errors.downPayment.maxValue=!1,this.errors.loanTerm.maxValue=!1,this.errors.loanTerm.minValue=!1,this.errors.loanTerm.range=!1},isInvalidDownPayment:function(){var e=this.form,t=e.downPayment,a=e.salePrice,n=(0,i.getDownPaymentMax)(a),r=(0,i.getDownPaymentMin)(a);return l.default.isDownPaymentMax({downPayment:t,max:n})?!l.default.isDownPaymentMin({downPayment:t,min:r})&&(this.errors.downPayment.resultMinValue=r,this.errors.downPayment.minValue=!0,!0):(this.errors.downPayment.resultMaxValue=n,this.errors.downPayment.maxValue=!0,!0)},isInvalidLoanTerm:function(){var e=this.form,t=e.loanTerm,a=(0,i.getLoanTermMax)(e.age);return l.default.isLoanTerm(t)?!l.default.isLoanTermMax({loanTerm:t,max:a})&&(this.errors.loanTerm.resultMaxValue=a,this.errors.loanTerm.maxValue=!0,!0):(this.errors.loanTerm.range=!0,!0)},isInvalidAge:function(){var e=this.form.age;return l.default.isAgeMin(e)?!l.default.isAgeMax(e)&&(this.errors.age.maxValue=!0,!0):(this.errors.age.minValue=!0,!0)},isInvalidForm:function(){var e=this.form.salePrice;return this.resetErrors(),!!this.isInvalidAge()||(l.default.isSalePrice(e)?!!this.isInvalidDownPayment()||!!this.isInvalidLoanTerm():(this.errors.salePrice=!0,!0))},simulationRun:function(){var e=this.form;return this.resultLoanAmmount=(0,i.getLoanAmount)(e.salePrice,e.downPayment),this.resultFirstMonthPayment=this.getFirstInstallment(),this.resultLastMonthPayment=this.getLastInstallment(),this.resultHouseholdIncomes=this.getHouseholdIncomes(),!0},getUserInfos:function(e){var t=this.form,a=t.loanTerm,n=t.downPayment,r=function(e){return window.parseInt(e)};return(0,s.mortgageTrackerSchema)({action:e,listingId:this.id,salePrice:r(t.salePrice),downPayment:r(n),annualInterestRates:r((0,i.getAnnualInterestRate)()),loanTerm:r(a),firstMonthPayments:r(this.resultFirstMonthPayment),lastMonthPayments:r(this.resultLastMonthPayment),grossMonthlyHouseholdIncomes:r(this.resultHouseholdIncomes)})},openQuotationModal:function(){var e=this.getUserInfos("REQUEST");this.propagation({action:"PRE REQUEST",emit:{name:"simulator:modal:open",params:e}})},propagation:function(e){var t=e.action,a=e.emit;this.$emit(a.name,a.params),this.tracker(this.getUserInfos(t))},tracker:function(e){(0,s.mortgageClicked)(e)}}}},v00s:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("icnV"));t.default=r.default},wT4y:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("MREg"));t.default=r.default}}]);